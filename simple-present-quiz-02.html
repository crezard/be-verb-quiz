<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>7. í˜„ì¬ ì‹œì œ (Present Simple) í€´ì¦ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary-blue': '#2563EB', // Blue-600 for main buttons
                        'correct-green': '#059669', // Emerald-600
                        'wrong-red': '#DC2626', // Red-600
                    }
                }
            }
        }
    </script>
    <style>
        /* ê¸°ë³¸ í°íŠ¸ ì„¤ì • ë° ë°°ê²½ */
        body {
            background-color: #E5E7EB; /* ì—°í•œ íšŒìƒ‰ ë°°ê²½ (Gray-200) */
            font-family: 'Inter', sans-serif;
            color: #1F2937; /* Gray-800 */
        }

        /* í€´ì¦ˆ ì»¨í…Œì´ë„ˆ */
        #quiz-container {
            border: 1px solid #D1D5DB; /* Gray-300 í…Œë‘ë¦¬ */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }

        /* ì§ˆë¬¸ ë²ˆí˜¸ ìŠ¤íƒ€ì¼ */
        .question-number {
            display: inline-block;
            background-color: #F3F4F6; /* Gray-100 */
            color: #4B5563; /* Gray-600 */
            padding: 0.25rem 0.75rem;
            border-radius: 9999px; /* Full rounded */
            font-weight: 600;
        }

        /* ì§ˆë¬¸ í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        .question-text {
            font-size: 1.125rem; /* text-xl */
            font-weight: 700;
            margin-bottom: 1rem;
            padding: 0.5rem 0; 
        }

        /* ì˜µì…˜ ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        .options-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        /* ê°œë³„ ì˜µì…˜ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .option-button {
            width: 100%;
            text-align: left;
            padding: 0.75rem 1rem;
            border: 1px solid #D1D5DB;
            border-radius: 0.375rem; /* rounded-md */
            background-color: white;
            transition: all 0.2s;
            cursor: pointer;
            font-weight: 500;
        }
        .option-button:hover:not(:disabled) {
            background-color: #F3F4F6; /* Gray-100 on hover */
        }
        
        /* í”¼ë“œë°± ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ */
        .feedback-message {
            margin-top: 1.5rem; /* ì§ˆë¬¸ ë°•ìŠ¤ ì œê±° í›„ ì—¬ë°± ì¦ê°€ */
            padding: 1rem;
            border-radius: 0.5rem;
            font-size: 0.875rem; /* text-sm */
            line-height: 1.5;
        }
        .feedback-correct {
            background-color: #ECFDF5; /* Green-50 */
            color: #065F46;
        }
        .feedback-wrong {
            background-color: #FEF2F2; /* Red-50 */
            color: #991B1B;
        }

        .correct-answer-highlight {
            font-weight: bold;
            color: #059669; /* Correct-green */
        }
        
        /* ì¸ì‡„ ì‹œ ìŠ¤íƒ€ì¼ */
        @media print {
            body {
                background-color: white !important;
                color: black !important;
                margin: 0;
            }
            #quiz-container {
                border: none !important;
                box-shadow: none !important;
                width: 100% !important;
                max-width: none !important;
                padding: 0 !important;
            }
            /* í€´ì¦ˆ ì˜ì—­ (ë¬¸ì œ í‘¸ëŠ” ë™ì•ˆì˜ UI)ì™€ ëª¨ë‹¬ ìˆ¨ê¸°ê¸° */
            #question-area, #confirm-modal, #next-button, #counter, .option-button, .question-number, .options-list, footer, header button {
                display: none !important;
            }
            /* ê²°ê³¼ ì˜ì—­ë§Œ í‘œì‹œ */
            #results-area {
                display: block !important;
                padding: 20px;
                border: none;
            }
            .no-print {
                display: none !important;
            }
            .print-only {
                display: block !important;
            }
            /* ì¸ì‡„ìš© í‹€ë¦° ë¬¸ì œ ëª©ë¡ ìŠ¤íƒ€ì¼ */
            .review-item {
                border-bottom: 1px solid #e5e7eb;
                padding-bottom: 15px;
                margin-bottom: 15px;
            }
        }
        .print-only {
            display: none;
        }

    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div id="quiz-container" class="w-full max-w-2xl bg-white rounded-xl p-6 sm:p-8 space-y-6">
        
        <header class="flex items-center justify-center mb-6 border-b pb-3 relative no-print pl-16">
            <button onclick="showConfirmModal()" class="absolute left-0 top-1 px-3 py-1 bg-primary-blue text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition duration-300">
                ğŸ  Home
            </button>
            <h1 id="quiz-title" class="text-2xl font-bold text-center">í˜„ì¬ ì‹œì œ (Present Simple) í€´ì¦ˆ</h1>
        </header>

        <div id="question-area" class="space-y-4 pt-4"> 
            
            <div class="flex items-center justify-between mb-4">
                <span id="question-number-display" class="question-number"></span>
                <div id="counter" class="text-gray-500 font-medium text-base"></div>
            </div>
            
            <p id="question-text" class="question-text">ì§ˆë¬¸ì„ ë¡œë“œí•˜ëŠ” ì¤‘...</p>
            
            <ul id="options-container" class="options-list">
                </ul>

            <div id="feedback-area" class="feedback-message hidden">
                <p id="rationale-text"></p>
            </div>
            
            <button id="next-button" class="w-full py-3 bg-primary-blue text-white font-bold rounded-lg hover:bg-blue-700 transition duration-300 hidden mt-8" onclick="nextQuestion()">
                ë‹¤ìŒ ë¬¸ì œ
            </button>
        </div>

        <div id="results-area" class="hidden space-y-6 pt-4">
            <div class="text-center space-y-2">
                <h2 class="text-3xl font-extrabold text-gray-800">í€´ì¦ˆ ì™„ë£Œ!</h2>
                <p class="text-6xl font-extrabold text-primary-blue" id="final-score">0 / 10</p>
                <p class="text-lg text-gray-600" id="result-message">ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤. ë‹¤ì‹œ í•œë²ˆ ë„ì „í•´ ë³´ì„¸ìš”!</p>
            </div>
            
            <div class="flex flex-col sm:flex-row gap-4 pt-4 border-t no-print">
                <a href="index.html" id="home-button" class="w-full py-3 bg-primary-blue text-white text-center font-bold rounded-lg hover:bg-blue-700 transition duration-300">
                    Home
                </a>
                <button class="w-full py-3 bg-primary-blue text-white font-bold rounded-lg hover:bg-blue-700 transition duration-300" onclick="startQuiz()">
                    ë‹¤ì‹œ ì‹œì‘
                </button>
                <button class="w-full py-3 bg-gray-500 text-white font-bold rounded-lg hover:bg-gray-600 transition duration-300" onclick="printResults()">
                    ê²°ê³¼ ì¸ì‡„
                </button>
            </div>

            <div id="incorrect-review-area" class="pt-8 border-t mt-8">
                <h3 class="text-xl font-bold mb-4 border-l-4 border-wrong-red pl-3">í‹€ë¦° ë¬¸ì œ ê²€í†  (<span id="incorrect-count">0</span>ê°œ)</h3>
                <div id="incorrect-list" class="space-y-6">
                    </div>
            </div>
        </div>
    </div>

    <div id="confirm-modal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 w-11/12 max-w-sm shadow-xl space-y-4">
            <p class="text-lg font-semibold text-gray-800">í€´ì¦ˆë¥¼ ì¤‘ë‹¨í•˜ê³  í™ˆìœ¼ë¡œ ëŒì•„ê°€ì‹œê² ìŠµë‹ˆê¹Œ?</p>
            <div class="flex justify-end gap-3">
                <button onclick="closeConfirmModal()" class="px-4 py-2 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition duration-300">
                    ì·¨ì†Œ
                </button>
                <button onclick="goToHome()" class="px-4 py-2 bg-wrong-red text-white font-medium rounded-lg hover:bg-red-700 transition duration-300">
                    ì¤‘ë‹¨í•˜ê³  ì´ë™
                </button>
            </div>
        </div>
    </div>

    <script>
        // í˜„ì¬ ì‹œì œ (Present Simple) í€´ì¦ˆ ë°ì´í„° 10ì œ
        const quizData = [
            {
              "question": "1. ë‹¤ìŒ ë¬¸ì¥ì˜ ë¹ˆì¹¸ì— ì•Œë§ì€ í˜„ì¬ ì‹œì œ ë™ì‚¬ë¥¼ ê³ ë¥´ì„¸ìš”. \"She usually ____ (walk) to school.\"",
              "options": [
                { "text": "walk", "rationale": "ì£¼ì–´ 'She'ëŠ” 3ì¸ì¹­ ë‹¨ìˆ˜ì´ë¯€ë¡œ ë™ì‚¬ì— '-s'ë¥¼ ë¶™ì—¬ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "walks", "rationale": "ì£¼ì–´ 'She'ëŠ” 3ì¸ì¹­ ë‹¨ìˆ˜ì´ë©°, 'usually'ëŠ” ìŠµê´€ì„ ë‚˜íƒ€ë‚´ë¯€ë¡œ í˜„ì¬ ì‹œì œ 'walks'ê°€ ì˜¬ë°”ë¥¸ í˜•íƒœì…ë‹ˆë‹¤.", "isCorrect": true },
                { "text": "is walking", "rationale": "ì´ê²ƒì€ í˜„ì¬ ì§„í–‰í˜•ì´ë©°, ìŠµê´€ì„ ë‚˜íƒ€ë‚¼ ë•ŒëŠ” í˜„ì¬ ì‹œì œë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "walked", "rationale": "ì´ê²ƒì€ ê³¼ê±° ì‹œì œì…ë‹ˆë‹¤.", "isCorrect": false }
              ]
            },
            {
              "question": "2. ë‹¤ìŒ ë¬¸ì¥ì˜ ë¹ˆì¹¸ì— ì•Œë§ì€ í˜„ì¬ ì‹œì œ ë™ì‚¬ë¥¼ ê³ ë¥´ì„¸ìš”. \"We ____ (watch) movies every weekend.\"",
              "options": [
                { "text": "watches", "rationale": "ì£¼ì–´ 'We'ëŠ” ë³µìˆ˜ì´ë¯€ë¡œ ë™ì‚¬ì— '-s/-es'ë¥¼ ë¶™ì´ì§€ ì•ŠìŠµë‹ˆë‹¤.", "isCorrect": false },
                { "text": "watch", "rationale": "ì£¼ì–´ 'We'ëŠ” ë³µìˆ˜ì´ë©°, 'every weekend'ëŠ” ë°˜ë³µì ì¸ í–‰ë™ì„ ë‚˜íƒ€ë‚´ë¯€ë¡œ ë™ì‚¬ ì›í˜• 'watch'ê°€ ì˜¬ë°”ë¦…ë‹ˆë‹¤.", "isCorrect": true },
                { "text": "watching", "rationale": "í˜„ì¬ ì§„í–‰í˜•ìœ¼ë¡œ ì‚¬ìš©í•˜ë ¤ë©´ Beë™ì‚¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "are watches", "rationale": "ì´ê²ƒì€ ë¬¸ë²•ì ìœ¼ë¡œ ì˜¬ë°”ë¥´ì§€ ì•Šì€ í˜•íƒœì…ë‹ˆë‹¤.", "isCorrect": false }
              ]
            },
            {
              "question": "3. ë‹¤ìŒ ë¬¸ì¥ì„ í˜„ì¬ ì‹œì œì˜ ë¶€ì •ë¬¸ìœ¼ë¡œ ë°”ë¥´ê²Œ ë°”ê¾¼ ê²ƒì€? \"He speaks English well.\"",
              "options": [
                { "text": "He not speaks English well.", "rationale": "ì¼ë°˜ ë™ì‚¬ì˜ ë¶€ì •ë¬¸ì€ ì¡°ë™ì‚¬ 'do/does'ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "He doesn't speaks English well.", "rationale": "ì¡°ë™ì‚¬ 'does not' ë’¤ì—ëŠ” ë™ì‚¬ ì›í˜•('speak')ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "He don't speak English well.", "rationale": "ì£¼ì–´ 'He'ëŠ” 3ì¸ì¹­ ë‹¨ìˆ˜ì´ë¯€ë¡œ 'don't' ëŒ€ì‹  'doesn't'ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "He doesn't speak English well.", "rationale": "3ì¸ì¹­ ë‹¨ìˆ˜ ë¶€ì •ë¬¸ì€ 'ì£¼ì–´ + does not (doesn't) + ë™ì‚¬ ì›í˜•' í˜•íƒœë¡œ ì˜¬ë°”ë¥´ê²Œ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.", "isCorrect": true }
              ]
            },
            {
              "question": "4. ë‹¤ìŒ ì¤‘ ë¶ˆë³€ì˜ ì§„ë¦¬ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í˜„ì¬ ì‹œì œ ë¬¸ì¥ìœ¼ë¡œ ì˜¬ë°”ë¥¸ ê²ƒì„ ê³ ë¥´ì„¸ìš”.",
              "options": [
                { "text": "The Sun raise in the East.", "rationale": "'The Sun'ì€ 3ì¸ì¹­ ë‹¨ìˆ˜ì´ë¯€ë¡œ 'raises'ê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "The Sun rose in the East.", "rationale": "ë¶ˆë³€ì˜ ì§„ë¦¬ëŠ” í•­ìƒ í˜„ì¬ ì‹œì œë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "The Sun rises in the East.", "rationale": "'The Sun'ì€ 3ì¸ì¹­ ë‹¨ìˆ˜ì´ë©°, ë¶ˆë³€ì˜ ì§„ë¦¬ì´ë¯€ë¡œ í˜„ì¬ ì‹œì œ 'rises'ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.", "isCorrect": true },
                { "text": "The Sun is rising in the East.", "rationale": "ì¼ì‹œì ì¸ ë™ì‘ì„ ë‚˜íƒ€ë‚´ëŠ” ì§„í–‰í˜• ëŒ€ì‹ , ë¶ˆë³€ì˜ ì§„ë¦¬ëŠ” í˜„ì¬ ì‹œì œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.", "isCorrect": false }
              ]
            },
            {
              "question": "5. ë‹¤ìŒ ë¬¸ì¥ì„ í˜„ì¬ ì‹œì œì˜ ì˜ë¬¸ë¬¸ìœ¼ë¡œ ë°”ë¥´ê²Œ ë°”ê¾¼ ê²ƒì€? \"They play tennis.\"",
              "options": [
                { "text": "Are they play tennis?", "rationale": "ì¼ë°˜ ë™ì‚¬ ë¬¸ì¥ì˜ ì˜ë¬¸ë¬¸ì—ëŠ” Beë™ì‚¬ ëŒ€ì‹  ì¡°ë™ì‚¬ 'Do/Does'ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "Do they plays tennis?", "rationale": "ì¡°ë™ì‚¬ 'Do'ë¥¼ ì‚¬ìš©í–ˆìœ¼ë¯€ë¡œ ë³¸ë™ì‚¬ëŠ” ì›í˜•('play')ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "Do they play tennis?", "rationale": "ì£¼ì–´ê°€ ë³µìˆ˜ì¼ ë•Œ ì˜ë¬¸ë¬¸ì€ 'Do + ì£¼ì–´ + ë™ì‚¬ ì›í˜•' í˜•íƒœë¡œ ì˜¬ë°”ë¥´ê²Œ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.", "isCorrect": true },
                { "text": "Does they play tennis?", "rationale": "ì£¼ì–´ 'They'ëŠ” ë³µìˆ˜ì´ë¯€ë¡œ 'Does' ëŒ€ì‹  'Do'ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false }
              ]
            },
            {
              "question": "6. ë™ì‚¬ **'teach'**ë¥¼ ì´ìš©í•˜ì—¬ í˜„ì¬ ì‹œì œì—ì„œ ì£¼ì–´ **'My teacher'**ì— ì•Œë§ì€ í˜•íƒœë¡œ ê³ ë¥´ì„¸ìš”.",
              "options": [
                { "text": "teach", "rationale": "ì£¼ì–´ 'My teacher'ëŠ” 3ì¸ì¹­ ë‹¨ìˆ˜ì´ë¯€ë¡œ '-es'ë¥¼ ë¶™ì—¬ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "teachs", "rationale": "ë™ì‚¬ê°€ '-ch'ë¡œ ëë‚  ë•ŒëŠ” '-s'ê°€ ì•„ë‹Œ '-es'ë¥¼ ë¶™ì—¬ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "teaches", "rationale": "3ì¸ì¹­ ë‹¨ìˆ˜ ì£¼ì–´ì´ë©°, ë™ì‚¬ê°€ '-ch'ë¡œ ëë‚˜ë¯€ë¡œ '-es'ë¥¼ ë¶™ì¸ 'teaches'ê°€ ì˜¬ë°”ë¥¸ í˜•íƒœì…ë‹ˆë‹¤.", "isCorrect": true },
                { "text": "taught", "rationale": "ì´ê²ƒì€ ê³¼ê±°í˜•ì…ë‹ˆë‹¤.", "isCorrect": false }
              ]
            },
            {
              "question": "7. ë‹¤ìŒ ì¤‘ 3ì¸ì¹­ ë‹¨ìˆ˜ ì£¼ì–´ ë’¤ì— í˜„ì¬ ì‹œì œ ë™ì‚¬ í˜•íƒœê°€ ë°”ë¥´ê²Œ ì—°ê²°ëœ ê²ƒì€?",
              "options": [
                { "text": "He - tryes", "rationale": "ììŒ + 'y'ë¡œ ëë‚  ë•ŒëŠ” 'y'ë¥¼ 'i'ë¡œ ë°”ê¾¸ê³  '-es'ë¥¼ ë¶™ì—¬ 'tries'ê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "She - flys", "rationale": "ììŒ + 'y'ë¡œ ëë‚  ë•ŒëŠ” 'y'ë¥¼ 'i'ë¡œ ë°”ê¾¸ê³  '-es'ë¥¼ ë¶™ì—¬ 'flies'ê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "It - enjoys", "rationale": "ëª¨ìŒ + 'y'ë¡œ ëë‚  ë•ŒëŠ” 'y'ë¥¼ 'i'ë¡œ ë°”ê¾¸ì§€ ì•Šê³  '-s'ë§Œ ë¶™ì—¬ 'enjoys'ê°€ ì˜¬ë°”ë¥¸ í˜•íƒœì…ë‹ˆë‹¤.", "isCorrect": true },
                { "text": "He - playss", "rationale": "ëª¨ìŒ + 'y'ë¡œ ëë‚  ë•ŒëŠ” '-s'ë§Œ ë¶™ì—¬ 'plays'ê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false }
              ]
            },
            {
              "question": "8. ë‹¤ìŒ ì˜ë¬¸ë¬¸ì— ëŒ€í•œ ì§§ì€ ë¶€ì • ë‹µë³€ìœ¼ë¡œ ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”. \"Does your father work on weekends?\"",
              "options": [
                { "text": "No, he don't.", "rationale": "ì£¼ì–´ 'he'ëŠ” 3ì¸ì¹­ ë‹¨ìˆ˜ì´ë¯€ë¡œ 'don't' ëŒ€ì‹  'doesn't'ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "No, he isn't.", "rationale": "ì¼ë°˜ ë™ì‚¬ ì§ˆë¬¸ì—ëŠ” Beë™ì‚¬ë¡œ ëŒ€ë‹µí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.", "isCorrect": false },
                { "text": "No, he doesn't.", "rationale": "í˜„ì¬ ì‹œì œ ì˜ë¬¸ë¬¸ì— ëŒ€í•œ ì§§ì€ ë¶€ì • ë‹µë³€ì€ 'No, ì£¼ì–´ + doesn't' í˜•íƒœë¡œ ì˜¬ë°”ë¥´ê²Œ í•©ë‹ˆë‹¤.", "isCorrect": true },
                { "text": "No, he not works.", "rationale": "ì§§ì€ ë‹µë³€ì—ëŠ” ì¡°ë™ì‚¬ê¹Œì§€ë§Œ ì‚¬ìš©í•´ì•¼ í•˜ë©°, ë³¸ë™ì‚¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.", "isCorrect": false }
              ]
            },
            {
              "question": "9. ë‹¤ìŒ ì¤‘ ê³¼ê±°í˜•ìœ¼ë¡œ ì¨ì•¼ í•˜ëŠ” ë™ì‚¬ë¥¼ í˜„ì¬í˜•ìœ¼ë¡œ ì˜ëª» ì“´ ë¬¸ì¥ì„ ê³ ë¥´ì„¸ìš”. (ë¬¸ë§¥ìƒ ì–´ìƒ‰í•œ ê²ƒì„ ê³ ë¥´ì„¸ìš”)",
              "options": [
                { "text": "The earth moves around the sun.", "rationale": "ë¶ˆë³€ì˜ ì§„ë¦¬ì´ë¯€ë¡œ í˜„ì¬ ì‹œì œê°€ ì˜¬ë°”ë¦…ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "She doesn't like spicy food.", "rationale": "í˜„ì¬ì˜ ìƒíƒœë‚˜ ì‚¬ì‹¤ì´ë¯€ë¡œ í˜„ì¬ ì‹œì œ ë¶€ì •ë¬¸ì´ ì˜¬ë°”ë¦…ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "We go to the museum yesterday.", "rationale": "'yesterday'ë¼ëŠ” ëª…í™•í•œ ê³¼ê±° ì‹œì ì´ ìˆìœ¼ë¯€ë¡œ ë™ì‚¬ë¥¼ ê³¼ê±°í˜•('went')ìœ¼ë¡œ ì¨ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": true },
                { "text": "I often visit my grandparents.", "rationale": "'often'ì€ ë°˜ë³µì ì¸ ë™ì‘ì„ ë‚˜íƒ€ë‚´ë¯€ë¡œ í˜„ì¬ ì‹œì œê°€ ì˜¬ë°”ë¦…ë‹ˆë‹¤.", "isCorrect": false }
              ]
            },
            {
              "question": "10. ë‹¤ìŒ ì¤‘ í˜„ì¬ ì‹œì œ ì˜ë¬¸ë¬¸ìœ¼ë¡œ ì˜¬ë°”ë¥¸ ê²ƒì„ ê³ ë¥´ì„¸ìš”.",
              "options": [
                { "text": "What time does the movie starts?", "rationale": "ì¡°ë™ì‚¬ 'does' ë’¤ì—ëŠ” ë™ì‚¬ ì›í˜•('start')ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "What time do the movie start?", "rationale": "ì£¼ì–´ 'the movie'ëŠ” 3ì¸ì¹­ ë‹¨ìˆ˜ì´ë¯€ë¡œ 'do' ëŒ€ì‹  'does'ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false },
                { "text": "What time does the movie start?", "rationale": "ì˜ë¬¸ì‚¬ + Does + ì£¼ì–´ + ë™ì‚¬ ì›í˜• í˜•íƒœë¡œ ì˜¬ë°”ë¥´ê²Œ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.", "isCorrect": true },
                { "text": "What time is the movie start?", "rationale": "ì¼ë°˜ ë™ì‚¬ ë¬¸ì¥ì—ëŠ” Beë™ì‚¬ ëŒ€ì‹  ì¡°ë™ì‚¬ 'Do/Does'ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.", "isCorrect": false }
              ]
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let answered = false;
        let quizResults = []; 

        // DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const quizTitleElement = document.getElementById('quiz-title');
        const counterElement = document.getElementById('counter');
        const questionNumberDisplay = document.getElementById('question-number-display');
        const optionsContainer = document.getElementById('options-container');
        const feedbackArea = document.getElementById('feedback-area');
        const rationaleTextElement = document.getElementById('rationale-text');
        const nextButton = document.getElementById('next-button');
        const questionArea = document.getElementById('question-area');
        const resultsArea = document.getElementById('results-area');
        const finalScoreElement = document.getElementById('final-score');
        const resultMessageElement = document.getElementById('result-message');
        const questionTextElement = document.getElementById('question-text');
        const incorrectListElement = document.getElementById('incorrect-list');
        const incorrectCountElement = document.getElementById('incorrect-count');


        // Modal control functions
        function showConfirmModal() {
            document.getElementById('confirm-modal').classList.remove('hidden');
        }

        function closeConfirmModal() {
            document.getElementById('confirm-modal').classList.add('hidden');
        }
        
        function goToHome() {
            window.location.href = "index.html";
            closeConfirmModal();
        }
        
        // ì¸ì‡„ ê¸°ëŠ¥
        function printResults() {
            window.print();
        }

        // í€´ì¦ˆ ì‹œì‘ (ì´ˆê¸°í™”)
        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            answered = false;
            quizResults = [];

            // UI í‘œì‹œ ì „í™˜
            questionArea.classList.remove('hidden');
            resultsArea.classList.add('hidden');
            feedbackArea.classList.add('hidden');
            nextButton.classList.add('hidden');

            quizTitleElement.textContent = "í˜„ì¬ ì‹œì œ (Present Simple) í€´ì¦ˆ";

            renderQuestion(currentQuestionIndex);
        }

        // í˜„ì¬ ì§ˆë¬¸ì„ ë Œë”ë§
        function renderQuestion(index) {
            const question = quizData[index];
            answered = false; 

            // ì¹´ìš´í„° ë° ì§ˆë¬¸ ë²ˆí˜¸ ì—…ë°ì´íŠ¸
            const qNum = index + 1;
            counterElement.textContent = `ë¬¸ì œ ${qNum} / ${quizData.length}`;
            questionNumberDisplay.textContent = `${qNum}ë²ˆ`;

            // ì§ˆë¬¸ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
            questionTextElement.innerHTML = question.question;

            // ì˜µì…˜ ë²„íŠ¼ ë Œë”ë§ (ul > li > button êµ¬ì¡° ì‚¬ìš©)
            optionsContainer.innerHTML = '';
            question.options.forEach((option, i) => {
                const li = document.createElement('li');
                const button = document.createElement('button');
                
                button.textContent = option.text;
                button.className = 'option-button';
                button.onclick = () => checkAnswer(i);
                
                li.appendChild(button);
                optionsContainer.appendChild(li);
            });

            // í”¼ë“œë°± ë° ë‹¤ìŒ ë²„íŠ¼ ìˆ¨ê¹€
            feedbackArea.classList.add('hidden');
            feedbackArea.classList.remove('feedback-correct', 'feedback-wrong');
            nextButton.classList.add('hidden');
        }

        // ë‹µë³€ í™•ì¸ ë¡œì§
        function checkAnswer(selectedIndex) {
            if (answered) return;
            answered = true;

            const question = quizData[currentQuestionIndex];
            const optionsListItems = optionsContainer.children;
            const isCorrect = question.options[selectedIndex].isCorrect;
            
            let correctOptionText = '';
            let selectedRationale = question.options[selectedIndex].rationale;

            // ëª¨ë“  ì˜µì…˜ ë²„íŠ¼ ë¹„í™œì„±í™” ë° ìƒ‰ìƒ í‘œì‹œ
            Array.from(optionsListItems).forEach((li, i) => {
                const button = li.querySelector('.option-button');
                if (!button) return;

                button.disabled = true;
                button.classList.remove('hover:bg-gray-50');

                if (question.options[i].isCorrect) {
                    correctOptionText = question.options[i].text;
                    // ì •ë‹µ í‘œì‹œ: ì´ˆë¡ìƒ‰
                    button.classList.add('bg-correct-green', 'text-white', 'font-bold');
                } else if (i === selectedIndex && !isCorrect) {
                    // ì˜¤ë‹µ í‘œì‹œ: ë¹¨ê°„ìƒ‰
                    button.classList.add('bg-wrong-red', 'text-white', 'font-bold');
                }
            });

            // ê²°ê³¼ ì €ì¥
            quizResults.push({
                questionNum: currentQuestionIndex + 1,
                question: question.question,
                isCorrect: isCorrect,
                selectedAnswer: question.options[selectedIndex].text,
                correctAnswer: correctOptionText,
                rationale: question.options[selectedIndex].rationale,
            });

            // ì ìˆ˜ ì—…ë°ì´íŠ¸ ë° í”¼ë“œë°± í‘œì‹œ
            if (isCorrect) {
                score++;
                feedbackArea.classList.add('feedback-correct');
                rationaleTextElement.innerHTML = `<strong>ì„¤ëª…:</strong> ${selectedRationale} (<span class="correct-answer-highlight">ì •ë‹µ: ${correctOptionText}</span>)`;
            } else {
                feedbackArea.classList.add('feedback-wrong');
                rationaleTextElement.innerHTML = `<strong>ì„¤ëª…:</strong> ${selectedRationale} (<span class="correct-answer-highlight">ì •ë‹µ: ${correctOptionText}</span>)`;
            }

            feedbackArea.classList.remove('hidden');
            nextButton.classList.remove('hidden');
        }

        // ë‹¤ìŒ ë¬¸ì œë¡œ ì´ë™
        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.length) {
                renderQuestion(currentQuestionIndex);
            } else {
                showResults();
            }
        }

        // í‹€ë¦° ë¬¸ì œ ëª©ë¡ì„ ë Œë”ë§
        function renderIncorrectAnswers() {
            const incorrect = quizResults.filter(r => !r.isCorrect);
            incorrectCountElement.textContent = incorrect.length;
            incorrectListElement.innerHTML = '';

            if (incorrect.length === 0) {
                incorrectListElement.innerHTML = '<p class="text-gray-600 text-center py-4">ğŸ‰ í‹€ë¦° ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤. ì™„ë²½í•´ìš”!</p>';
                return;
            }

            incorrect.forEach(result => {
                const item = document.createElement('div');
                item.className = 'review-item p-4 border border-red-200 rounded-lg bg-red-50 space-y-2';

                item.innerHTML = `
                    <p class="font-bold text-base text-red-700">í‹€ë¦° ë¬¸ì œ ${result.questionNum}ë²ˆ: ${result.question}</p>
                    <p class="text-sm text-gray-700 ml-2">ì„ íƒí•œ ë‹µ: <span class="font-medium text-wrong-red">${result.selectedAnswer}</span></p>
                    <div class="p-2 bg-white rounded-md border border-gray-300">
                        <p class="text-sm font-medium text-correct-green">ì •ë‹µ: ${result.correctAnswer}</p>
                        <p class="text-xs text-gray-600">í•´ì„¤: ${result.rationale}</p>
                    </div>
                `;
                incorrectListElement.appendChild(item);
            });
        }

        // ê²°ê³¼ í‘œì‹œ
        function showResults() {
            questionArea.classList.add('hidden');
            resultsArea.classList.remove('hidden');

            finalScoreElement.textContent = `${score} / ${quizData.length}`;

            let message = '';
            if (score === quizData.length) {
                message = 'ğŸ‰ ë§Œì ì…ë‹ˆë‹¤! í˜„ì¬ ì‹œì œë¥¼ ì™„ë²½í•˜ê²Œ ì´í•´í•˜ê³  ìˆì–´ìš”! ğŸ†';
            } else if (score >= quizData.length * 0.7) {
                message = 'ğŸ‘ ì •ë§ ì˜í–ˆì–´ìš”! 3ì¸ì¹­ ë‹¨ìˆ˜ ê·œì¹™ë§Œ ë” ì£¼ì˜í•˜ë©´ ì™„ë²½í•´ì§ˆ ê±°ì˜ˆìš”.';
            } else {
                message = 'ğŸ¤” ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤. 3ì¸ì¹­ ë‹¨ìˆ˜ ë™ì‚¬ ë³€í™”ì™€ ë¶€ì •ë¬¸/ì˜ë¬¸ë¬¸ ì¡°ë™ì‚¬ ì‚¬ìš© ê·œì¹™ì„ ë‹¤ì‹œ í•œë²ˆ ë³µìŠµí•´ ë³´ëŠ” ê²ƒì´ ì¢‹ê² ì–´ìš”.';
            }
            resultMessageElement.textContent = message;

            // í‹€ë¦° ë¬¸ì œ ê²€í†  ì˜ì—­ ë Œë”ë§
            renderIncorrectAnswers();
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ í€´ì¦ˆ ì‹œì‘
        window.onload = startQuiz;

    </script>
</body>
</html>